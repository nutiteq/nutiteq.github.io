<!DOCTYPE html>
<html lang="en">
   
  <head>
    <title>CartoDB Estonia OÜ Developer portal</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" href="../images/favicon.ico.html" type="image/x-icon">
    <link rel="icon" href="../images/favicon.ico.html" type="image/x-icon">
    
    <meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="3r51ZMlFX7WcjqGKddWLoBRSX2oWUrfunkeOSfeeAtIuD//byRYCDtrXJBGqmB56f4HCX3GpeOr7hlYLgKHJIw==" />
    
	<link rel="stylesheet" type="text/css" media="screen" href="../css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="http://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" />
    
    <script src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
    
    <script src="http://code.jquery.com/ui/1.8.3/jquery-ui.js"></script>
    <link rel="stylesheet" type="text/css" media="screen" href="http://code.jquery.com/ui/1.8.3/themes/smoothness/jquery-ui.css" />
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.min.js"></script>

    <script src="../javascripts/3scale.js"></script>
    
    <script src="../javascripts/excanvas.compiled.js"></script>
    
    <script src="../javascripts/shCore.js"></script>
    <script src="../javascripts/shAutoloader.js"></script>
    <script src="../javascripts/shBrushXml.js"></script>
    <script src="../javascripts/shBrushJScript.js"></script>
    <script src="../javascripts/shBrushJava.js"></script>
    <script src="../javascripts/shBrushObjectiveC.js"></script>
    <script src="../javascripts/shBrushCSharp.js"></script>

    <!--[if lt IE 9]>
      <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6/html5shiv.min.js"></script>
      <script src="//cdnjs.cloudflare.com/ajax/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
    
    <link rel="stylesheet" type="text/css" media="screen" href="../css/default.css" />
    
    
    <link rel="stylesheet" type="text/css" media="screen" href="../css/nutiteq.css" />
    
    
    <link rel="stylesheet" type="text/css" media="screen" href="../css/shCoreEclipse.css" />


    
    
    
  </head>

  <body>
    <header role="banner">
      

      

        <div id="flash-messages">
          
        </div>
  
    </header>

	<header class="b-header">
      <div class="l-container">
        <h1 class="b-header__logo"><a href="http://www.nutiteq.com">Nutiteq</a></h1>
			<nav class="b-header__nav">
				<ul class="b-header_nav-list">
					
                  <li><a href="../samples.html">Demo</a></li>
                  <li><a href="../docs.html">Documentation</a></li>
                  <li><a href="../admin.1.html">Log in</a></li>	
                  	
				</ul>
			</nav>
		</div>
    </header>
    
    
    <main id="main-content" role="main">
      
        <div class="full">
          <div class="container">
  
            <section class="b-page">
  <div class="b-page__wrap l-container">
	<aside class="b-page__sidebar">

	<nav class="b-page__nav">
	<ul class="b-page__nav-list">
      <li class="m-active"><a href="../getting-started.1.html">Getting Started</a></li>
      <li ><a href="../guides.1.html">Guides</a></li>
      <li ><a href="../pro.html">Pro extensions</a></li>
      <li ><a href="../samples.html">Sample apps</a></li>
	  <li ><a href="../reference.html">Browse API reference</a></li>
      <li ><a href="../downloads.html">Downloads</a></li>
      <li ><a href="../support.html">Support and feedback</a></li>

	</ul>
	</nav>

	</aside>
	<div class="b-page__content">
      <div class="alert alert-info">
  <strong>Nutiteq is now part of CARTO!</strong> Please use latest <a href="https://carto.com/docs/carto-engine/mobile-sdk/" class="alert-link">CARTO Mobile SDK</a> for new projects. Nutiteq SDK 3.x support and updates ended in 2017, documentation here is outdated.
</div>

		<h1>Xamarin get started</h1>

<h2>Get component from Xamarin Store</h2>

<p><a href="https://components.xamarin.com/view/nutiteqmapssdk">Xamarin Component Store</a> has Nutiteq Maps SDK component, which can be added to your Android or iOS project directly from Xamarin Studio. The component also includes sample project - single project for Android and iOS.</p>

<h2>Register license key</h2>

<p>Sign up in <a href="../index.html">developer.nutiteq.com</a> and add an application. Select <strong>xamarin-ios</strong> or <strong>xamarin-android</strong> as application type, and make sure you enter same application ID as you have in your app. For examole, sample app ID is <strong>com.nutiteq.hellomap.xamarin</strong> for both platforms. Finally you should get license code, which is a long string starting with <em>&quot;XTU...&quot;</em>. This is needed for your code</p>

<p>If you cover both platforms, register license codes for the two apps.</p>

<h2>Cross-platform apps</h2>

<p>You can create one Xamarin project (solution) for Android and iOS and share code. These still need to be two apps, as many app aspects (UI, file system etc) are platform-specific. From Nutiteq SDK point of view the API is almost the same and your code can be shared, except some specific API calls which need Android <em>context</em> or file system references. For example these calls must be platform specific:</p>

<ul>
<li>Register license key: <em>MapView.RegisterLicense()</em></li>
<li>Create package manager: <em>new NutiteqPackageManager()</em></li>
</ul>

<p>Almost all of the map API related code: adding layers and objects to map, handling interactions/clicks etc can be shared for iOS and Android!</p>

<h2>Android app</h2>

<p>1) Add <strong>Nutiteq Xamarin Component</strong> to your project from Component Store.</p>

<p>2) <strong>Add MapView to your application main layout</strong></p>

<pre>
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:layout_width=&quot;fill_parent&quot;
    android:layout_height=&quot;fill_parent&quot;
    android:orientation=&quot;vertical&quot; &gt;
   &lt;nutiteq.ui.MapView
    android:id=&quot;@+id/mapView&quot;
    android:layout_width=&quot;fill_parent&quot; 
    android:layout_height=&quot;fill_parent&quot; 
    /&gt;
&lt;/LinearLayout&gt;
</pre>

<p>4) <strong>Create MapView object, add a base layer</strong> </p>

<p>You you can load layout from a xml and load the MapView from Layout, or create it with code. Definition of base layer is enough for minimal map configuration.</p>

<pre class="brush: csharp">
using Nutiteq.Ui;
using Nutiteq.Layers;
using Nutiteq.DataSources;


[Activity (Label = "Nutiteq.HelloMap", MainLauncher = true)]
public class MainActivity : Activity
{

    protected override void OnCreate ( Bundle bundle )
    {
        base.OnCreate ( bundle );

        // Register license BEFORE creating MapView (done in SetContentView)
        MapView.registerLicense("YOUR_LICENSE_KEY", this);

        /// Set our view from the "main" layout resource
        SetContentView ( Resource.Layout.Main );
    
        /// Get our map from the layout resource. 
        var mapView = FindViewById<MapView> ( Resource.Id.mapView );

        /// Online vector base layer
        var baseLayer = new NutiteqOnlineVectorTileLayer("nutibright-v2a.zip");

        /// Set online base layer  
        mapView.Layers.Add(baseLayer);
    }
    
</pre>

<h2>iOS app</h2>

<p>1) Add <strong>Nutiteq Xamarin Component</strong> to your project from Component Store.</p>

<p>2) <strong>Copy vector style file</strong> (<em>osmbright.zip</em>) to your project. You can take it from samples. This is needed for vector basemap.</p>

<p>3) <strong>Add Map object to app view</strong>. When using Storyboards, use <em>OpenGL ES View Controller</em> (GLKit.GLKViewController)
as a template for the map and replace <em>GLKView</em> with <em>MapView</em> as the underlying view class.
In the example below, it is assumed that the outlet name of the map view is <em>Map</em>.</p>

<p>4) <strong>Initiate map, set base layer</strong></p>

<p>Add into MainViewController.cs:</p>

<pre class="brush: csharp">
using Nutiteq.Ui;
using Nutiteq.Layers;
using Nutiteq.DataSources;

public class MainViewController : GLKit.GLKViewController
{
    public override void ViewDidLoad ()
    {
        base.ViewDidLoad ();

        // GLKViewController-specific parameters for smoother animations
        ResumeOnDidBecomeActive = false;
        PreferredFramesPerSecond = 60;

        // Register license BEFORE creating MapView 
        MapView.RegisterLicense("YOUR_LICENSE_KEY");

        // Online vector base layer
        var baseLayer = new NutiteqOnlineVectorTileLayer("nutibright-v2a.zip");

        // Set online base layer.
        // Note: assuming here that Map is an outlet added to the controller.
        Map.Layers.Add(baseLayer);
    }

    public override void ViewWillAppear(bool animated)
    {
        base.ViewWillAppear (animated);

        // GLKViewController-specific, do on-demand rendering instead of constant redrawing
        // This is VERY IMPORTANT as it stops battery drain when nothing changes on the screen!
        Paused = true;
    }

</pre>

<h2>Android and iOS common map code</h2>

<p>1) <strong>Add a marker</strong> to map, to given coordinates. Add following after creating mapView.</p>

<p>You must have <em>Icon.png</em> in your Assets folder to set bitmap</p>

<pre class="brush: csharp">
    // Create overlay layer for markers
    var proj = new EPSG3857();
    var dataSource = new LocalVectorDataSource (proj);
    var overlayLayer = new VectorLayer (dataSource);
    mapView.Layers.Add (overlayLayer);

    // create Marker style
    var markersStyleBuilder = new MarkerStyleBuilder ();
    markersStyleBuilder.Size = 20;
    UnsignedCharVector iconBytes = AssetUtils.LoadBytes("Icon.png");
    var bitmap = new Bitmap (iconBytes, true);
    markersStyleBuilder.Bitmap = bitmap;

    // Marker for London
    var marker = new Marker (proj.FromWgs84(new MapPos(-0.8164,51.2383)), markersStyleBuilder.BuildStyle ());
    dataSource.Add (marker);

</pre>

<h2>Other map actions</h2>

<p>See <a href="https://github.com/nutiteq/hellomap3d-dotnet/">hellomap3d-dotnet</a> sample code how to:</p>

<ul>
<li><strong>Control map view</strong> - set zoom, center, tilt etc</li>
<li><strong>Listen events</strong> (MapListener.cs) of clicks to map and map objects</li>
<li><strong>Add other objects</strong>: Lines, Polygons, Points, Balloons (callouts). You can even add 3D objects and use customized Balloons.</li>
<li><strong>Download offline map packages</strong> for country or smaller region</li>
</ul>

    </div>
   </div>
</section>
            
            
          </div>
        </div>
      
    </main>    
    
    <footer class="b-footer">
		<p>&copy; 2018 CartoDB Estonia OÜ | <a href="../termsofservice.html">Terms of Service</a> | <a href="../privacypolicy.html">Privacy Policy</a> | <a href="../refundpolicy.html">Refund Policy</a></p>
	</footer>

    <!-- JS and analytics only. -->
    <script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
    <a title="Real Time Analytics" href="http://clicky.com/100810539"><img alt="Real Time Analytics" src="http://static.getclicky.com/media/links/badge.gif" border="0" /></a>
<script src="http://static.getclicky.com/js" type="text/javascript"></script>
<script type="text/javascript">try{ clicky.init(100810539); }catch(e){}</script>
<noscript><p><img alt="Clicky" width="1" height="1" src="http://in.getclicky.com/100810539ns.gif" /></p></noscript>

    <script src="../javascripts/init.js"></script>
	<script type="text/javascript">
    	 SyntaxHighlighter.all()
         SyntaxHighlighter.defaults['toolbar'] = false;
         SyntaxHighlighter.defaults['gutter'] = false;
	</script>
  </body>
</html>
